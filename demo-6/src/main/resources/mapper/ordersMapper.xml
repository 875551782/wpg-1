<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wpg.dao.OrdersDao">
	<select id="getAllOrders" resultType="com.wpg.pojo.Orders">
		select * from orders
	</select>
	
	<delete id="deleteOrder_Hardware">
		delete from order_hardware where id = #{0}
	</delete>
	
	<delete id="deleteOrders">
		delete from orders where id = #{0}
	</delete>
	
	<select id="getAllOrdersByUserId">
		select * from orders where user_id=#{0}
	</select>
	
	<insert id="insertOrders">
		<selectKey order="AFTER" resultType="java.lang.Integer">
			select LAST_INSERT_ID()
		</selectKey>
		
		insert into orders values(null,#{0})
	</insert>
	
	<insert id="insertOrder_Hardware">
	insert into order_hardware values
		<foreach collection="ids" item="id" separator=",">
			(#{order_Id},#{id})
		</foreach>
	</insert>
	
	<select id="getOrder_HardwaresByOrdersId" resultMap="order_HardwareDetail">
		select * from order_hardware where order_id = #{0}
	</select>
	
	<resultMap type="com.wpg.pojo.Order_Hardware" id="order_HardwareDetail">
		<id column="" property=""></id>
		<result column="" property=""></result>
		<association  column="" property="" select="">
			
		</association>
	</resultMap>	
</mapper>